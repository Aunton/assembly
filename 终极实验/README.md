# 记录

    作为引导程序结尾必须要有55AAH的标记，如操作系统的引导程序，加载器本身也是引导程序。  
    一些疑惑：  
        描述：调用键盘中断程序之后，返回加载器，再进入实时时钟显示时，shift键已无效，无法输入'#'。  
        分析：调用键盘中断程序后，已将新的中断程序地址写入中断向量表，只接受1234567890Enter，  
        改变了原有的键盘中断程序，在这之后只接受键盘的上述11个键。  

    0扇区-简单的加载器  
    (loader.asm转为二进制文件loader)  


    1扇区-工作程序：在5行40列开始输出红底白字的hello,world  
    (dp75.asm转为二进制文件helloworld)  


    2扇区-工作程序：读取CMOS RAM，按任意键显示当前时间，若Enter键返回加载器  
    (DisplayTime.asm转为二进制文件time)  

    4扇区-除法出错中断处理程序(内部中断，0号)：观察除法出错中断处理程序的运行效果  
    (INT_div.asm转为二进制文件div，  
    写入简陋的除法出错中断程序，并用例子600/2检验是否成功  
    待完善部分：只能解决指令长度超过2的除法指令，因为中断程序返回地址+2)  


    5扇区-键盘中断处理程序(外设中断，9号)，1 2 3 4 5 6 7 8 9 和Enter键有效，Enter返回加载器  
    (INT_keyboard.asm转为二进制文件keyboard，课本上将QWERTYUIOP识别为0123456789，通过扫描码的转换，Enter结束显示换行；  
    目前实现：识别键盘键入的1234567890，Enter结束显示，结尾加回车换行；  
    可以补充的功能：根据取得的字符能够实现不同的功能)  
    字母的扫描码不是很有规律  
    数字的扫描码和ASCII码：  
    1-0231H  
    2-0332H  
    3-0433H  
    ...  
    9-0A39H  
    0-0B40H  
    识别扫描码后，对扫描码+2FH，即为对应ASCII码('0'特殊判断一下，ASCII码再-10)  
    退出标记为Enter  1C0DH  

    6扇区-拓展显示I/O程序(以中断程序的形式存在，作为子程序，90H号)  
    写入新的中断程序，利用中断指令INT 90H调用子程序，功能：以TTY方式显示带属性的字符  

    7扇区-实时时钟显示程序：在18行60列显示实时时间，按'#'键返回加载器  
    (INT_DTime.asm转为二进制文件Dtime，BIOS提供的8号中断处理程序含有一条中断指令“INT 1CH”，  
    每秒约调用18.2次，通过提供新的1CH号中断处理程序，可以实现某些周期性工作  
    写入新的中断程序，若键入'#'可以恢复原中断向量并返回加载器  
    若已写入新的键盘中断处理程序，就无法键入'#')  
    修改；考虑到'#'可能不被接受，退出键改为'0'  